#!/bin/bash
# cargo packages hash: {{ include "dot_cargo_packages.txt" | sha256sum }}
set -euo pipefail

if ! command -v cargo >/dev/null 2>&1; then
    echo "‚ö†Ô∏è  cargo not found, skipping cargo packages"
    exit 0
fi

echo "üì¶ Installing cargo packages..."

while IFS= read -r pkg; do
    [[ -z "$pkg" || "$pkg" =~ ^# ]] && continue
    echo "  Installing $pkg..."
    cargo install "$pkg" || echo "  ‚ö†Ô∏è  Failed to install $pkg"
done < "$HOME/.cargo_packages.txt"

echo "‚úÖ cargo packages installed"
